<?xml version="1.0"?>
<!DOCTYPE Configure PUBLIC "-//Jetty//Configure//EN" "http://www.eclipse.org/jetty/configure.dtd">

<Configure id="Server" class="org.eclipse.jetty.server.Server">
    <New id="NewsDS" class="org.eclipse.jetty.plus.jndi.Resource">
        <Arg>jdbc/NewsDS</Arg>
        <Arg>
            <New class="org.apache.commons.dbcp.BasicDataSource">
                <Set name="Url">jdbc:mysql://localhost:3306/news?characterEncoding=utf8</Set>
                <Set name="DriverClassName">com.mysql.jdbc.Driver</Set>
                <Set name="Username">root</Set>
                <Set name="Password">root</Set>
                <Set name="MaxActive">30</Set>
                <Set name="MaxIdle">10</Set>
                <Set name="MinIdle">2</Set>
                <Set name="MaxWait">5000</Set>
                <Set name="MinEvictableIdleTimeMillis">25000</Set>
                <Set name="TimeBetweenEvictionRunsMillis">30000</Set>
            </New>
        </Arg>
    </New>

    <New id="ConnectorServer" class="org.eclipse.jetty.jmx.ConnectorServer">
        <Arg>
            <New class="javax.management.remote.JMXServiceURL">
                <Arg type="java.lang.String">rmi</Arg>
                <Arg type="java.lang.String" />
                <Arg type="java.lang.Integer"><SystemProperty name="jetty.jmxrmiport" default="9093"/></Arg>
                <Arg type="java.lang.String">/jndi/rmi://<SystemProperty name="jetty.jmxrmihost" default="localhost"/>:<SystemProperty name="jetty.jmxrmiport" default="9093"/>/jmxrmi</Arg>
            </New>
        </Arg>
        <Arg>org.eclipse.jetty.jmx:name=rmiconnectorserver</Arg>
        <Call name="start" />
    </New>
</Configure>